Most of the code here are examples taken from Metaprogramming Ruby.
